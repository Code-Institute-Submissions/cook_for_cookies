{% extends 'base.html' %} {% block content %}
<div class="hidden-div">
    <input class="hidden-div recipe-id" type="text" id="recipe-id" name="recipe-id" value="{{ this_recipe._id }}">
</div>
<section class="view-recipe-section">
    <div class="container">
        <div class="image-container center-text">
            {% if this_recipe.recipe_image_url %}
            <img class="recipe-img view-recipe-img" src="{{ this_recipe.recipe_image_url }}"></img>
            {% else %}
            <img class="recipe-img view-recipe-img" src="{{ url_for('static', filename='images/food-default.jpg') }}"></img>
            {% endif %}
        </div>
        <h1 class="section-title">{{ this_recipe.recipe_name }}</h1>
    </div>
    <div class="recipe-details-section container">
        <div class="recipe-details-container">
            <div class="row">
                <img src="{{ author.user_photo }}"></img>
                <h2>Posted by</h2>
                {% if author.first_name == "TBC" %}
                <p>{{ author.email }}</p>
                {% else %}
                <p>{{ author.first_name }} {{ author.surname }}</p>
                {% endif %}
                <h2>Cusine Category</h2>
                <p>{{ this_recipe.cusine }}</p>
            </div>
            <hr>
            <div class="row">
                <div class="recipe-instructions">
                    <h2>Recipe Instructions</h2>
                    <table class="instructions-list-table">
                        <tr class="instructions-table-header">
                            <th>Step</th>
                            <th>Instructions</th>
                        </tr>
                        {% for instruction in this_recipe.recipe_instructions %}
                        <tr>
                            <td>{{ instruction.step }}</td> 
                            <td>{{ instruction.instruction }}</td> 
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="recipe-ingredients">
                    <h2>Ingredients</h2>
                    <table class="ingredients-list-table">
                        <tr class="ingredients-table-header">
                            <th></th>
                            <th>Ingredient</th>
                            <th>Quantity</th>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="row">
                <a href="{{ url_for( 'recipes', username=username) }} " class="go-back-btn div-btn center-text center-div ">
                    <span>Go back</span>
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
